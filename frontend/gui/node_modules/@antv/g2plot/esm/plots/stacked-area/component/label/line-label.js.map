{"version":3,"file":"line-label.js","sourceRoot":"","sources":["../../../../../src/plots/stacked-area/component/label/line-label.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,YAAY,CAAC;AAC1C,OAAO,SAAS,MAAM,0CAA0C,CAAC;AAEjE;;GAEG;AACH;IAA2C,iCAAS;IAApD;;IAmBA,CAAC;IAlBW,oCAAY,GAAtB,UAAuB,KAAK;QAC1B,IAAM,YAAY,GAAG,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC;QAChD,IAAM,SAAS,GAAG,YAAY,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACxD,IAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3B,IAAA,yCAAU,CAAuB;QACzC,IAAM,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;QAErD,IAAM,CAAC,GACL,MAAM,CACJ,SAAS,CAAC,CAAC,EACX,UAAC,CAAS,EAAE,CAAS;YACnB,OAAO,CAAC,GAAG,CAAC,CAAC;QACf,CAAC,EACD,CAAC,CACF,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QAExB,OAAO,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC,EAAE,CAAC,GAAA,EAAE,KAAK,OAAA,EAAE,IAAI,MAAA,EAAE,CAAC;IAC5C,CAAC;IACH,oBAAC;AAAD,CAAC,AAnBD,CAA2C,SAAS,GAmBnD","sourcesContent":["import { reduce, size } from '@antv/util';\nimport LineLabel from '../../../line/component/label/line-label';\n\n/**\n * 复用扎线图的 label，并修改取值方式\n */\nexport default class AreaLineLabel extends LineLabel {\n  protected getShapeInfo(shape) {\n    const originPoints = shape.get('origin').points;\n    const lastPoint = originPoints[originPoints.length - 1];\n    const color = shape.attr('stroke');\n    const { stackField } = this.plot.options;\n    const name = shape.get('origin').data[0][stackField];\n\n    const y =\n      reduce(\n        lastPoint.y,\n        (r: number, a: number): number => {\n          return r + a;\n        },\n        0\n      ) / size(lastPoint.y);\n\n    return { x: lastPoint.x, y, color, name };\n  }\n}\n"]}
{"version":3,"file":"text-abbreviate.js","sourceRoot":"","sources":["../../../../src/util/responsive/rules/text-abbreviate.ts"],"names":[],"mappings":"AAKA,MAAM,CAAC,OAAO,UAAU,cAAc,CAAC,KAAa,EAAE,MAAyB;IAC7E,IAAM,YAAY,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC;IACvE,IAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAChC,IAAI,aAAa,CAAC;IAClB,IAAI,YAAY,KAAK,KAAK,EAAE;QAC1B,aAAa,GAAM,IAAI,CAAC,CAAC,CAAC,QAAK,CAAC;KACjC;IACD,IAAI,YAAY,KAAK,OAAO,EAAE;QAC5B,aAAa,GAAG,QAAM,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAG,CAAC;KAC/C;IACD,IAAI,YAAY,KAAK,QAAQ,EAAE;QAC7B,aAAa,GAAM,IAAI,CAAC,CAAC,CAAC,WAAM,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAG,CAAC;KACzD;IACD,KAAK,CAAC,WAAW,EAAE,CAAC;IACpB,KAAK,CAAC,IAAI,CAAC;QACT,IAAI,EAAE,aAAa;QACnB,SAAS,EAAE,QAAQ;QACnB,YAAY,EAAE,KAAK;KACpB,CAAC,CAAC;AACL,CAAC","sourcesContent":["import { IShape } from '@antv/g-base';\n\ninterface TextAbbreviateCfg {\n  abbreviateBy?: 'start' | 'middle' | 'end';\n}\nexport default function textAbbreviate(shape: IShape, option: TextAbbreviateCfg) {\n  const abbreviateBy = option.abbreviateBy ? option.abbreviateBy : 'end';\n  const text = shape.attr('text');\n  let abbravateText;\n  if (abbreviateBy === 'end') {\n    abbravateText = `${text[0]}...`;\n  }\n  if (abbreviateBy === 'start') {\n    abbravateText = `...${text[text.length - 1]}`;\n  }\n  if (abbreviateBy === 'middle') {\n    abbravateText = `${text[0]}...${text[text.length - 1]}`;\n  }\n  shape.resetMatrix();\n  shape.attr({\n    text: abbravateText,\n    textAlign: 'center',\n    textBaseline: 'top',\n  });\n}\n"]}
{"version":3,"file":"config.js","sourceRoot":"","sources":["../../src/interface/config.ts"],"names":[],"mappings":"AAQA,OAAO,EAQL,OAAO,GACR,MAAM,eAAe,CAAC;AA6PvB,IAAM,MAAM,GAAG,IAAI,CAAC;AACpB,IAAM,MAAM,GAAG,EAAE,GAAG,MAAM,CAAC;AAC3B,IAAM,IAAI,GAAG,EAAE,GAAG,MAAM,CAAC;AACzB,IAAM,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC;AACtB,IAAM,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC;AACrB,IAAM,KAAK,GAAG,GAAG,GAAG,EAAE,CAAC;AACvB,IAAM,IAAI,GAAG,GAAG,GAAG,GAAG,CAAC;AACvB,MAAM,CAAC,IAAM,aAAa,GAAG;IAC3B,MAAM,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE;IAC7C,OAAO,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE;IAC3C,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE;IACnC,GAAG,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,YAAY,EAAE;IACzC,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,YAAY,EAAE;IAC3C,KAAK,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE;IAC1C,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE;CACtC,CAAC","sourcesContent":["/**\n * G2-Plot配置项\n * 注意事项：\n * 1. 命名采用驼峰\n * 2. 如果是枚举值，不使用enum，全部列出\n * 3. 减少嵌套，尽量平铺配置\n */\nimport { ShapeAttrs } from '@antv/g-base';\nimport {\n  Options,\n  AttributeOption,\n  AdjustOption,\n  LabelOption,\n  MappingDatum,\n  Element,\n  Datum,\n  _ORIGIN,\n} from '../dependents';\nimport { LooseMap, Maybe } from './types';\n\nexport interface Meta {\n  alias?: string;\n  formatter?: (v: any) => string;\n  values?: string[];\n  range?: number[];\n  type?: 'linear' | 'time' | 'timeCat' | 'cat' | 'pow' | 'log';\n}\n\nexport interface ITitle {\n  visible: boolean;\n  text: string;\n  style?: TextStyle;\n  alignTo?: 'left' | 'right' | 'middle';\n}\n\nexport interface IDescription {\n  visible: boolean;\n  text: string;\n  style?: TextStyle;\n  alignTo?: 'left' | 'right' | 'middle';\n}\n\ntype IEvents = LooseMap<string>;\n\nexport type Formatter = (text: string, item: any, idx: number) => string;\n\nexport interface IBaseAxis {\n  /** 轴是否需要显示，默认true */\n  visible?: boolean;\n  /** 轴类型，对应scale类型 */\n  type?: 'linear' | 'time' | 'timeCat' | 'cat' | 'pow' | 'log';\n  /** scale 自定义 tickMethod */\n  tickMethod?: string | ((cfg: any) => number[]);\n  /** 轴位置，默认下和左 */\n  line?: {\n    visible?: boolean;\n    style?: LineStyle;\n  };\n  grid?: {\n    /** 网格线是否显示 */\n    visible?: boolean;\n    line?: {\n      style?: LineStyle | ((text: string, idx: number, count: number) => LineStyle);\n      type?: 'line' | 'circle';\n    };\n    /** 网格设置交替的颜色，指定一个值则先渲染偶数层，两个值则交替渲染 */\n    alternateColor?: string | string[];\n  };\n  label?: {\n    visible?: boolean;\n    formatter?: (name: string, tick: any, index: number) => string;\n    offset?: number; // 坐标轴文本距离坐标轴线的距离\n    offsetX?: number; // 在 offset 的基础上，设置坐标轴文本在 x 方向上的偏移量\n    offsetY?: number; // 在 offset 的基础上，设置坐标轴文本在 y 方向上的偏移量\n    rotate?: number; // label 文本旋转的角度，使用角度制\n    style?: TextStyle;\n    autoRotate?: boolean;\n    autoHide?: boolean | string; // 默认的 autoHide 策略，或指定自动隐藏策略\n  };\n  title?: {\n    visible?: boolean;\n    autoRotate?: boolean;\n    text?: string;\n    offset?: number;\n    style?: TextStyle;\n  };\n  tickLine?: {\n    visible?: boolean;\n    style?: LineStyle;\n  };\n}\n/** Linear型 */\nexport interface IValueAxis extends IBaseAxis {\n  type?: 'linear' | 'pow' | 'log';\n  /** tick相关配置 */\n  nice?: boolean;\n  min?: number;\n  max?: number;\n  minLimit?: number;\n  maxLimit?: number;\n  tickCount?: number;\n  tickInterval?: number;\n  /** pow 指数 */\n  exponent?: number;\n  /** log 基数 */\n  base?: number;\n}\n/** 时间型 */\nexport interface ITimeAxis extends IBaseAxis {\n  type?: 'time';\n  /** tick相关配置 */\n  tickInterval?: string;\n  tickCount?: number;\n  mask?: string;\n}\n/** 离散类目型 */\nexport interface ICatAxis extends IBaseAxis {\n  type?: 'cat';\n}\n\nexport type Axis = ICatAxis | IValueAxis | ITimeAxis;\n\nexport interface Label {\n  visible?: boolean;\n  type?: string;\n  formatter?: (\n    text: Maybe<string | number>,\n    item: {\n      [_ORIGIN]: Datum;\n      mappingDatum: MappingDatum;\n      mappingDatumIndex: number;\n      element: Element;\n      elementIndex: number;\n    },\n    idx: number,\n    ...extras: any[]\n  ) => string;\n  /** 精度配置，可通过自定义精度来固定数值类型 label 格式 */\n  precision?: number;\n  /** 添加后缀 */\n  suffix?: string;\n  style?: TextStyle;\n  offset?: number | any;\n  offsetX?: number;\n  offsetY?: number;\n  position?: string;\n  adjustColor?: boolean;\n  adjustPosition?: boolean;\n  autoRotate?: boolean;\n  // labelLine?: any;\n  /** 标签对应字段 */\n  field?: string;\n}\n\nexport type LegendPosition =\n  | 'left-top'\n  | 'left-center'\n  | 'left-bottom'\n  | 'right-top'\n  | 'right-center'\n  | 'right-bottom'\n  | 'top-left'\n  | 'top-center'\n  | 'top-bottom'\n  | 'bottom-left'\n  | 'bottom-center'\n  | 'bottom-right';\n\ninterface LegendMarkerStyle extends GraphicStyle {\n  r?: number;\n}\n\nexport interface Legend {\n  visible?: boolean;\n  /** 位置 */\n  position?: LegendPosition;\n  /** 翻页 */\n  flipPage?: boolean;\n  offsetX?: number;\n  offsetY?: number;\n  clickable?: boolean;\n  title?: {\n    visible?: boolean;\n    text?: string;\n    style?: TextStyle;\n  };\n  marker?: {\n    symbol?: string;\n    style: LegendMarkerStyle;\n  };\n  text?: {\n    style?: TextStyle;\n    formatter?: (text: string, cfg: any) => string;\n  };\n}\n\nexport interface Tooltip {\n  visible?: boolean;\n  fields?: string[];\n  shared?: boolean;\n  showTitle?: boolean;\n  titleField?: string;\n  formatter?: (...args: any) => { name: string; value: number };\n  showCrosshairs?: boolean;\n  crosshairs?: object;\n  offset?: number;\n  showMarkers?: boolean;\n  domStyles?: {\n    'g2-tooltop'?: any;\n    'g2-tooltip-title'?: any;\n    'g2-tooltip-list'?: any;\n    'g2-tooltip-marker'?: any;\n    'g2-tooltip-value'?: any;\n  };\n  follow?: boolean;\n  custom?: {\n    container?: string | HTMLElement;\n    customContent?: (title: string, data: any[]) => string | void;\n    onChange?: (tooltipDom: HTMLElement, cfg: CustomTooltipConfig) => void;\n  };\n}\n\nexport interface Animation {\n  appear?: AnimationCfg;\n  enter?: AnimationCfg;\n  update?: AnimationCfg;\n  leave?: AnimationCfg;\n  [field: string]: any;\n}\n\nexport interface AnimationCfg {\n  /** 动画模式，延伸or缩放 */\n  type?: string;\n  duration?: number;\n  easing?: string;\n  delay?: number;\n  callback?: (...args: any[]) => void;\n  [field: string]: any;\n}\n\n// tslint:disable-next-line: no-empty-interface\nexport interface Theme {}\n\nexport interface ElementOption {\n  type: string;\n  position: {\n    fields: string[];\n  };\n  color?: AttributeOption;\n  size?: AttributeOption;\n  shape?: AttributeOption;\n  style?: GraphicStyle;\n  label?: LabelOption | false;\n  animate?: Animation;\n  adjust?: AdjustOption[];\n  connectNulls?: boolean;\n  widthRatio?: {\n    [type: string]: number;\n  };\n  tooltip?: any;\n}\n\nexport type G2Config = Options;\n\nexport interface IColorConfig {\n  fields?: string[];\n  values?: string[];\n  callback?: (...args: any[]) => any;\n}\n\nconst SECOND = 1000;\nconst MINUTE = 60 * SECOND;\nconst HOUR = 60 * MINUTE;\nconst DAY = 24 * HOUR;\nconst WEEK = DAY * 7;\nconst MONTH = DAY * 30;\nconst YEAR = DAY * 365;\nexport const timeIntervals = {\n  second: { value: SECOND, format: 'HH:mm:ss' },\n  miniute: { value: MINUTE, format: 'HH:mm' },\n  hour: { value: HOUR, format: 'HH' },\n  day: { value: DAY, format: 'YYYY-MM-DD' },\n  week: { value: WEEK, format: 'YYYY-MM-DD' },\n  month: { value: MONTH, format: 'YYYY-MM' },\n  year: { value: YEAR, format: 'YYYY' },\n};\n\ninterface StateCondition {\n  name: string;\n  exp: () => boolean | string | number;\n}\n\nexport interface StateConfig {\n  condition: () => any | StateCondition;\n  style?: GraphicStyle;\n  related?: string[];\n}\n\nexport interface GuideLineConfig {\n  type?: string;\n  start?: any[];\n  end?: any[];\n  lineStyle?: LineStyle;\n  text?: {\n    position?: 'start' | 'center' | 'end';\n    content: string;\n    offsetX?: number;\n    offsetY: number;\n    style?: TextStyle;\n  };\n}\n\nexport interface ISliderInteractionConfig {\n  /** 在图表中的位置，默认 horizontal */\n  /** @ignore */\n  type?: 'horizontal' | 'vertical';\n  /** 宽度，在 vertical 下生效 */\n  /** @ignore */\n  width?: number;\n  /** 高度，在 horizontal 下生效 */\n  height?: number;\n  /** 可选 padding */\n  padding?: [number, number, number, number];\n  /** 默认开始位置, 0~1 */\n  start?: number;\n  /** 默认结束位置, 0~1 */\n  end?: number;\n  /** 背景框样式配置 */\n  backgroundStyle?: ShapeAttrs;\n  /** 前景框样式配置 */\n  foregroundStyle?: ShapeAttrs;\n  /** 滑块样式配置 */\n  handlerStyle?: ShapeAttrs;\n  /** 文本样式配置 */\n  textStyle?: ShapeAttrs;\n  /** slider 趋势图配置  */\n  trendCfg?: {\n    /** 是否使用 smooth 折线 */\n    smooth?: boolean;\n    /** 是否使用面积图 */\n    isArea?: boolean;\n    /** 背景样式配置 */\n    backgroundStyle?: ShapeAttrs;\n    /** 折线样式配置 */\n    lineStyle?: ShapeAttrs;\n    /** 面积图样式配置 */\n    areaStyle?: ShapeAttrs;\n  };\n}\n\nexport interface IScrollbarInteractionConfig {\n  /** 在图表中的位置，默认 horizontal */\n  /** @ignore */\n  type?: 'horizontal' | 'vertical';\n  /** 宽度，在 vertical 下生效 */\n  width?: number;\n  /** 高度，在 horizontal 下生效 */\n  height?: number;\n  /** 可选 padding */\n  padding?: [number, number, number, number];\n  /** 对应水平滚动条，为X轴每个分类字段的宽度；对于垂直滚动条，为X轴每个分类字段的高度 */\n  categorySize?: number;\n}\n\nexport interface ITimeLineInteractionConfig {\n  /** 绑定过滤字段，必须传 */\n  field: string;\n  /** 判定动画 key */\n  key: string;\n  /** 是否循环播放，默认 false */\n  loop?: boolean;\n  /** 是否自动播放，默认 true */\n  auto?: boolean;\n  /** 播放速度 */\n  speed?: number;\n  /** 高度，在 horizontal 下生效 */\n  height?: number;\n  /** 可选 padding */\n  padding?: [number, number, number, number];\n  /** 当前仅支持 horizontal，只放置在图表底部 */\n  // type?: 'horizontal';\n  /** 宽度，在 vertical 下生效 */\n  // width?: number;\n}\n\n//export type IInteractionConfig = IScrollbarInteractionConfig | ISliderInteractionConfig;\n\nexport type IInteractionConfig = {\n  [field: string]: any;\n};\n\nexport interface IInteractions {\n  type: string;\n  cfg?: IInteractionConfig;\n}\n\n/**\n * 一个点位置\n */\nexport interface Point {\n  readonly x: number;\n  readonly y: number;\n}\n\nexport interface DataItem {\n  [field: string]: string | number | number[] | null | undefined;\n}\n\nexport interface IStyle {\n  [field: string]: any;\n}\n\nexport interface GraphicStyle {\n  fill?: string;\n  fillOpacity?: number;\n  stroke?: string;\n  lineWidth?: number;\n  lineDash?: number[];\n  lineOpacity?: number;\n  opacity?: number;\n  shadowColor?: string;\n  shadowBlur?: number;\n  shadowOffsetX?: number;\n  shadowOffsetY?: number;\n  cursor?: string;\n  [field: string]: any;\n}\n\nexport interface LineStyle {\n  stroke?: string;\n  lineWidth?: number;\n  lineDash?: number[];\n  lineOpacity?: number;\n  shadowColor?: string;\n  shadowBlur?: number;\n  shadowOffsetX?: number;\n  shadowOffsetY?: number;\n  cursor?: string;\n  [field: string]: any;\n}\n\nexport interface TextStyle extends GraphicStyle {\n  fontSize?: number;\n  fontFamily?: string;\n  fontWeight?: number;\n  lineHeight?: number;\n  textAlign?: 'center' | 'left' | 'right';\n  textBaseline?: 'middle' | 'top' | 'bottom';\n  [field: string]: any;\n}\n\ninterface TooltipDataItem {\n  title?: string;\n  data?: Datum;\n  mappingData?: MappingDatum;\n  name?: string;\n  value?: string;\n  color?: string;\n  marker?: boolean;\n  x?: number;\n  y?: number;\n}\n\nexport interface CustomTooltipConfig {\n  title?: string;\n  x?: number;\n  y?: number;\n  items?: TooltipDataItem[];\n}\n"]}